<!DOCTYPE html>
<html>
<head>
<title>Institutional AI Command Center</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
    background: #0f1117;
    color: #00ffcc;
    font-family: monospace;
}
.panel {
    border: 1px solid #00ffcc;
    padding: 15px;
    margin: 10px;
}
</style>
</head>
<body>

<h1>üèõ Institutional AI Command Center</h1>

<div class="panel">
    <h3>Equity: ‚Çπ<span id="equity"></span></h3>
    <h3>Regime: <span id="regime"></span></h3>
    <h3>Mode: <span id="mode"></span></h3>
    <h3>Last Strategy: <span id="strategy"></span></h3>
</div>

<div class="panel">
    <canvas id="equityChart"></canvas>
</div>

<script>
let equityData = [];

function fetchState() {
    fetch('/api/state')
    .then(res => res.json())
    .then(data => {
        document.getElementById("equity").innerText = data.equity;
        document.getElementById("regime").innerText = data.regime;
        document.getElementById("mode").innerText = data.mode;
        document.getElementById("strategy").innerText = data.last_strategy;

        equityData.push(data.equity);
        chart.update();
    });
}

const ctx = document.getElementById('equityChart');
const chart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: [],
        datasets: [{
            label: 'Equity Curve',
            data: equityData,
            borderColor: '#00ffcc'
        }]
    }
});

setInterval(fetchState, 2000);
</script>

</body>
</html>
